accesscontrol:
  security:
    cookies:
      secure:
        value: false
      httpOnly:
        value: false
backbase:
  multi-tenancy:
    enabled: true
    datasource:
      default-tenant-id: T1
      strategy: SWITCH_DATASOURCE
      defaults:
        driver-class-name: org.h2.Driver
    tenants:
      - id: T1
        datasource:
          url: jdbc:h2:mem:AC1;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
          username: sa
      - id: T2
        datasource:
          url: jdbc:h2:mem:AC2;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
          username: sa
  accesscontrol:
    token:
      expiration: 1000
      initPhrase: RandomInitVecto2
      key: Bar12345Bar12345
#  events:
#    enabled: false
  usercontext:
    jwtTokenExpiration: 300
    signatureAndEncryption:
      key:
        type: VALUE
        value: JWTSecretKeyDontUseInProduction!
  data-group:
    validation:
      enabled: false
    types:
      - ARRANGEMENTS
      - CONTACTS
      - CUSTOMERS
      - PAYEES
  db:
    cleanup: db/sql/mssql/cleanupTables.sql
  activemq:
    enabled: false
  eventsourcing:
    commands-and-events-storage-enabled: false
  communication:
    consumer-options:
      maxConcurrentConsumers: 25
      concurrentConsumers: 5
      maxMessagesPerTask: 100
    http:
      access-token-uri: http://localService/token
      discoverable-access-token-service: true
    logRequests: true
    logReplies: true
    logEventEmit: true
    logEventReceive: true
  accessgroup:
    audit:
      size: 100
  approval:
    validation:
      enabled: false
      enabled@tid(T2): true
    level:
      enabled: false
      enabled@tid(T2): true
  api:
    extensions:
      classes:
        com.backbase.presentation.accessgroup.rest.spec.v2.accessgroups.serviceagreements.ServiceAgreementPutRequestBody: test-data
        com.backbase.presentation.accessgroup.rest.spec.v2.accessgroups.serviceagreements.ServiceAgreementSave: test-data
        com.backbase.presentation.accessgroup.rest.spec.v2.accessgroups.serviceagreements.ServiceAgreementPostRequestBody: test-data
      property-sets:
        test-data:
          properties:
            - property-name: externalId
              type: string
  mockito:
    verify:
      timeout: 2000

logging:
  level:
    com.backbase: INFO
    org.springframework: INFO

spring:
  activemq:
    in-memory: true
    pooled: false
    broker-url: vm://localhost?broker.advisorySupport=false&broker.persistent=false
  h2:
    console:
      enabled: true
  liquibase:
    enabled: true
    change-log: "classpath:db/multitenacy-changelog.yaml"
  jpa:
    show-sql: true
    database-platform: org.hibernate.dialect.H2Dialect
    properties:
      hibernate:
        format_sql: true
    generate-ddl: false
    hibernate:
      ddl-auto: none
      generate_statistics: true
  main.allow-bean-definition-overriding: true

sso:
  jwt:
    internal:
      type: signed
      signature:
        key:
          type: VALUE
          value: JWTSecretKeyDontUseInProduction!